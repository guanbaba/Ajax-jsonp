<!DOCTYPE html>
<html>
<head>
	<title>AJAX TEST</title>
	<meta charset="utf-8">
	<script type="text/javascript" src="./jquery-3.3.1.min.js"></script>
</head>
<body>
<label>请输入要搜索的内容：</label>
<input id="search-text" type="text" name="search">
<input id="submit-btn" type="button" name="submit" value="提交">
<p><span id="result"></span></p>
</body>
<script type="text/javascript">
	// var result=document.getElementById("result");			//原生JS实现
	// var searchText=document.getElementById("search-text");
	// var submitBtn=document.getElementById("submit-btn");
	// var head=document.getElementsByTagName("head")[0];
	// function jsonpCallback(data){			
	// 	var responseStr=data.join(",");
	// 	result.innerHTML=responseStr;
	// }
	// submitBtn.onclick=function(){
	// 	var text=searchText.value;
	// 	var name=searchText.getAttribute("name");
	// 	var script=document.createElement("script");
	// 	head.appendChild(script);
	// 	script.src="http://demo2.com:8080/search.php?"+name+"="+text+"&callback=jsonpCallback";
	// }
	// $(function(){			//jQuery实现jsonp方法1
	// 	$("#submit-btn").click(function(){
	// 		$.ajax({
	// 			type:"GET",
	// 			dataType:"jsonp",
	// 			url:"http://demo2.com:8080/search.php?"+$("#search-text").attr("name")+"="+$("#search-text").val(),
	// 			success:function(data){
	// 				var responseStr=data.join(",");
	// 				result.innerHTML=responseStr;
	// 			}
	// 		})
	// 	});
	// })
	// $(function(){			//jQuery实现jsonp方法2
	// 	$("#submit-btn").click(function(){
	// 		$.getJSON("http://demo2.com:8080/search.php?"+$("#search-text").attr("name")+"="+$("#search-text").val()+"&callback=?",function(data){
	// 			var responseStr=data.join(",");
	// 			result.innerHTML=responseStr;
	// 		});
	// 	});
	// })
	$(function(){			//jQuery实现jsonp方法2
		$("#submit-btn").click(function(){
			$.getScript("http://demo2.com:8080/search.php?"+$("#search-text").attr("name")+"="+$("#search-text").val()+"&callback=jsonpCallback");
		});
	})
	function jsonpCallback(data){			
		var responseStr=data.join(",");
		result.innerHTML=responseStr;
	}
</script>
</html>